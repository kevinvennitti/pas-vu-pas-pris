<meta name="viewport" content="initial-scale=1, maximum-scale=1">

<h1>Intro : Ã©cran</h1>

<audio controls src="/voix/intro/intro.mp3" id="main"></audio>

<script src="lib/jquery-3.4.1.min.js"></script>
<script src="/socket.io/socket.io.js"></script>

<script>
  var socket = io.connect('http://<%= ip; %>:<%= port; %>');

  $(function(){

    socket.on('intro/main/play', function () {
      main.play();
    });

    socket.on('intro/main/pause', function () {
      main.pause();
    });

    socket.on('intro/main/playfromstart', function () {
      main.currentTime = 0.001;
      main.play();
    });


  });

  const scale = (num, in_min, in_max, out_min, out_max) => {
    return Math.min(Math.max((num - in_min) * (out_max - out_min) / (in_max - in_min) + out_min, out_min), out_max);
  }
</script>
